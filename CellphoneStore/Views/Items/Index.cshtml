
@{
    ViewData["Title"] = "Store";
}

<h1>Items</h1>
<div id="ItemsList" class="row">
  
</div>


<script src="https://code.jquery.com/jquery-3.2.1.min.js"
        integrity="sha256-hwg4gsxgFZhOsEEamdOYGBf13FyQuiTwlAQgxVSNgt4="
        crossorigin="anonymous"></script>
<script>
    $(document).ready(function () {
        var options = {};
        options.url = "http://localhost:49403/api/cellphones";
        options.type = "GET";
        options.dataType = "json";
        options.success = function (data) {
            data.forEach(function (element) {
                console.log(element);
                $("#ItemsList").append('<div class="col-sm-6 col-md-3"> <div class="thumbnail"> <img src="' + element.image + '" alt="No Image"> <div class="caption text-center"> <h3>' + element.name + '<//h3> <p>'+element.price +'<//p> <p><a href="/items/details/' +element.itemID + '" class="btn btn-primary" role="button">Details<//a> <a href="#" class="btn btn-default" role="button">Add to Cart<//a><//p><//div><//div><//div>');
            });
        };
        options.error = function () {
            $("#msg").html("Error while calling the Web API!");
        };
        $.ajax(options);

        //$("#employeeid").change(function () {
        //    var options = {};
        //    options.url = "http://localhost:49403/api/cellphones/" + $("#employeeid").val();
        //    options.type = "GET";
        //    options.dataType = "json";
        //    options.success = function (data) {
        //        $("#firstname").val(data.Name);
        //        $("#lastname").val(data.Price);
        //        $("#city").val(data.Description);
        //    };
        //    options.error = function () {
        //        $("#msg").html("Error while calling the Web API!");
        //    };
        //    $.ajax(options);
        //});

        //$("#insert").click(function () {
        //    var options = {};
        //    options.url = "http://localhost:50583/api/employee";
        //    options.type = "POST";

        //    var obj = {};
        //    obj.firstName = $("#firstname").val();
        //    obj.lastName = $("#lastname").val();
        //    obj.city = $("#city").val();

        //    options.data = JSON.stringify(obj);
        //    options.contentType = "application/json";
        //    options.dataType = "html";

        //    options.success = function (msg) {
        //        $("#msg").html(msg);
        //    };
        //    options.error = function () {
        //        $("#msg").html("Error while calling the Web API!");
        //    };
        //    $.ajax(options);
        //});

        //$("#update").click(function () {
        //    var options = {};
        //    options.url = "http://localhost:50583/api/employee/"
        //       + $("#employeeid").val();
        //    options.type = "PUT";

        //    var obj = {};
        //    obj.employeeID = $("#employeeid").val();
        //    obj.firstName = $("#firstname").val();
        //    obj.lastName = $("#lastname").val();
        //    obj.city = $("#city").val();

        //    options.data = JSON.stringify(obj);
        //    options.contentType = "application/json";
        //    options.dataType = "html";
        //    options.success = function (msg) {
        //        $("#msg").html(msg);
        //    };
        //    options.error = function () {
        //        $("#msg").html("Error while calling the Web API!");
        //    };
        //    $.ajax(options);
        //});

        //$("#delete").click(function () {
        //    var options = {};
        //    options.url = "http://localhost:50583/api/employee/" + $("#employeeid").val();
        //    options.type = "DELETE";
        //    options.dataType = "html";
        //    options.success = function (msg) {
        //        $("#msg").html(msg);
        //    };
        //    options.error = function () {
        //        $("#msg").html("Error while calling the Web API!");
        //    };
        //    $.ajax(options);
        //});

        
    });
</script>

